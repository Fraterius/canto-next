<?xml version="1.0" encoding="UTF-8"?><rss version="2.0">   <channel>       <title>Canto RSS</title>       <link>http://codezen.org/static/canto.xml</link>       <description>Canto News</description>           <item>               <title> Docs Updated</title>               <link>http://codezen.org/canto/news/89</link>               <guid isPermaLink="true">                   http://codezen.org/canto/news/89               </guid>               <description>&lt;p&gt;Just a note, I updated the &lt;a href="../config/"&gt;configuration page&lt;/a&gt; with the content of
the 0.7.6 announcement. I also updated the getting started page with some
overall &lt;a href="../start/#tips"&gt;tips&lt;/a&gt; about using Canto effectively.&lt;/p&gt;
&lt;p&gt;Lastly, if you've been a Canto user since the days of yore, you'll remember the
Advanced Configuration page that used to be up, but was taken down for the 0.7.0
release (since that release made the entire thing obsolete, essentially). Well,
it's back in action and updated for 0.7.6. This page covers more
programmer-centric configuration of Canto, geared towards things like writing
your own drawing hooks, general hooks, filters, sorts, etc.&lt;/p&gt;
&lt;p&gt;You can see the new page here: &lt;a href="../advconfig"&gt;Advanced Configuration&lt;/a&gt;.&lt;/p&gt;               </description>           </item>           <item>               <title> 0.7.6</title>               <link>http://codezen.org/canto/news/88</link>               <guid isPermaLink="true">                   http://codezen.org/canto/news/88               </guid>               <description>&lt;p&gt;You can grab the 0.7.6 release from the 
&lt;a href="http://codezen.org/canto/download/"&gt;download&lt;/a&gt; page.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix non-consecutive sorts&lt;/li&gt;
&lt;li&gt;Fix multi-tag sorts&lt;/li&gt;
&lt;li&gt;Fix change_feed&lt;/li&gt;
&lt;li&gt;Fix possible get_text exception&lt;/li&gt;
&lt;li&gt;Replace multiprocessing functionality&lt;/li&gt;
&lt;li&gt;Worker process initiated on demand&lt;/li&gt;
&lt;li&gt;Add "restart" keybind (\)&lt;/li&gt;
&lt;li&gt;Add wget_link reader_key&lt;/li&gt;
&lt;li&gt;Add highlight_word drawing hook&lt;/li&gt;
&lt;li&gt;Add "setup.py uninstall" command&lt;/li&gt;
&lt;li&gt;Minor c-f cleanup&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Finally time to take the plunge. Clocking in at almost 4 months, 0.7.5 was the
longest lasting Canto release &lt;em&gt;ever&lt;/em&gt;. I can't decide whether that's a good
thing, judging from the fixes in the list =).&lt;/p&gt;
&lt;p&gt;As usual, there's a set of bugfixes. In addition, some new &lt;code&gt;canto.extra&lt;/code&gt; pieces.
&lt;code&gt;wget_link&lt;/code&gt; to be used as a reader_key to download extra content (like videos,
images, audio) inside an item. For example:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;reader_keys[&amp;#39;w&amp;#39;] = wget_link(&amp;quot;/path/to/downloads&amp;quot;)
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A &lt;code&gt;highlight_word&lt;/code&gt; drawing hook to highlight words in the reader or main views
was added too. Like this:&lt;/p&gt;
&lt;div class="codehilite"&gt;&lt;pre&gt;r = get_default_renderer()
add_hook_pre_reader(r, highlight_word(&amp;quot;NASA&amp;quot;))
add_hook_pre_story(r, highlight_word(&amp;quot;never&amp;quot;))
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will highlight "NASA" in the reader and "never" in the main view.&lt;/p&gt;
&lt;p&gt;A new keybind, the "restart" keybind (defaulting to '\') which will restart
canto, re-reading the config in the process.&lt;/p&gt;
&lt;p&gt;Lastly, 'uninstall' has been added to setup.py, meaning that you can use &lt;code&gt;python
setup.py uninstall&lt;/code&gt; from the same directory you installed from. UPDATE: it
doesn't &lt;em&gt;require&lt;/em&gt; the install.log generated on install, it will use it if it's
there - i.e. to be useful if you update git and the install looks different-,
but otherwise will "fake" an install and remove any files that &lt;em&gt;would be&lt;/em&gt;
installed.&lt;/p&gt;
&lt;h3 id="behind-the-scenes"&gt;Behind the scenes&lt;/h3&gt;
&lt;p&gt;As mentioned in the last post, &lt;code&gt;multiprocessing&lt;/code&gt; has been eliminated. It appears
that there was no breakage so I think it's time to get the changes out there.
However, what went unmentioned in the previous post was that the worker process
has been changed to start and stop on demand. This should make the client a
little less intensive.&lt;/p&gt;
&lt;p&gt;Also, code to support XDG was written, worked but didn't make it into 0.7.6
because, as a bugfix release, it's not really the place for a change in the
default config location. I considered adding a flag for XDG compliance, but the
capability to set arbitrary directories for config, scripts, feeds, etc. already
exists if you want to opt in like that.&lt;/p&gt;
&lt;p&gt;Anyway. Have fun! Submit bugs!&lt;/p&gt;               </description>           </item>           <item>               <title> `multiprocessing` is dead!</title>               <link>http://codezen.org/canto/news/87</link>               <guid isPermaLink="true">                   http://codezen.org/canto/news/87               </guid>               <description>&lt;p&gt;I committed some code last night to vanquish the &lt;code&gt;multiprocessing&lt;/code&gt; library from
canto. So, as of &lt;code&gt;d8165155&lt;/code&gt; (last night), Python 2.5 no longer requires the
&lt;code&gt;processing&lt;/code&gt; external library. 2.6+ is obviously unchanged since the library
was moved into the standard library.&lt;/p&gt;
&lt;p&gt;I have several reasons for this. If you're interested, you can read the &lt;a href="http://codezen.org/cgi-bin/gitweb.cgi?p=canto.git;a=commit;h=d8165155f4fec1dcf5002ec78c4d838f5be5bd10"&gt;commit
message&lt;/a&gt;
that summarizes them. In short: I was having no luck debugging a serious bug,
the library already forced some crappy workarounds into the code, and the subset
of what I was using could be replaced by a 50 line class.&lt;/p&gt;
&lt;p&gt;I'm not 100% certain that this has solved some of the problems that I was having
with &lt;code&gt;multiprocessing&lt;/code&gt;, but none of my three testers (&lt;code&gt;jaacoppi&lt;/code&gt;, &lt;code&gt;sleo&lt;/code&gt;, and
&lt;code&gt;evg_krsk&lt;/code&gt; on IRC - thanks guys) have reported back to me yet with trouble.
Regardless, if nothing else, the 50 line replacement will make it simpler to
debug if the bugs &lt;em&gt;do&lt;/em&gt; show their ugly faces again =P.&lt;/p&gt;
&lt;h3 id="release"&gt;Release&lt;/h3&gt;
&lt;p&gt;It looks like the log from 0.7.5 is getting quite hefty and it's almost time to
put out a release. I've been holding off for this long trying to squash the bug
where long running instances lose their minds and become mostly unresponsive. At
this point, even if the prolonged bug is still unsquashed I'm going to release
after I'm satisfied that the above potential fix hasn't introduced any further
bugs =).&lt;/p&gt;
&lt;p&gt;tl;dr: Look for 0.7.6 in the near future.&lt;/p&gt;
&lt;h3 id="other-stuff"&gt;Other stuff&lt;/h3&gt;
&lt;p&gt;The bugs mentioned in the last post with segfaulting on Fedora and Mandriva were
fixed by properly linking Python against &lt;code&gt;libncursesw&lt;/code&gt; for wide-char, no canto
fix required. &lt;/p&gt;
&lt;p&gt;In addition, canto is now in Mandriva Cooker (the Mandriva bleeding edge,
rolling release) in contrib. I'm not very familiar with Mandriva release
politics, but I assume this means it will be included with the 2010.1 release.
Thanks to &lt;code&gt;shikamaru&lt;/code&gt; for packaging.&lt;/p&gt;
&lt;p&gt;As always: Have fun! Submit bugs!&lt;/p&gt;               </description>           </item>           <item>               <title> Fedora</title>               <link>http://codezen.org/canto/news/86</link>               <guid isPermaLink="true">                   http://codezen.org/canto/news/86               </guid>               <description>&lt;p&gt;Happy (belated) New Year, canto users!&lt;/p&gt;
&lt;p&gt;Bad news. In addition to being broken by a python-multiprocessing bug in Ubuntu
Karmic, Fedora Core 12 broke canto. This time, it's actually a distro bug: the
python included with FC12 has linked the python curses module against ncurses
rather than ncursesw which basically breaks unicode output and (as has come up
before) canto doesn't take too kindly to having no unicode support. Basically
any python curses program is going to be Unicode-less on FC12.&lt;/p&gt;
&lt;p&gt;The canto bug is here: &lt;a href="https://bugzilla.redhat.com/show_bug.cgi?id=541386"&gt;Bug 541368&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The actual offending bug is here: &lt;a href="https://bugzilla.redhat.com/show_bug.cgi?id=539917"&gt;Bug 539917&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Anybody trying to work around it... sorry. I was able to get canto to work by
overwriting the installed Python with a a freshly compiled 2.6.4 but that's not
really acceptable in the long run. If someone wants to put up an actual RPM with
a fixed python, that'd be awesome. Otherwise, it's just waiting for someone to
close the bug.&lt;/p&gt;
&lt;p&gt;I had a Mandriva user in the IRC channel report a similar segfault as well. I
wouldn't be surprised if the Python maintainer made a similar mistake (or if
FC and Mandriva share RPM build specs). Confirmation pending though.&lt;/p&gt;               </description>           </item>           <item>               <title> 0.7.5</title>               <link>http://codezen.org/canto/news/85</link>               <guid isPermaLink="true">                   http://codezen.org/canto/news/85               </guid>               <description>&lt;p&gt;You can grab the 0.7.5 release from the &lt;a href="http://codezen.org/canto/download/"&gt;download&lt;/a&gt; page.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fix some reader inconsistencies with reader keys moving selections&lt;/li&gt;
&lt;li&gt;Wrap some harmless, rare curses exceptions&lt;/li&gt;
&lt;li&gt;Workaround messed up SIGCHLD handling in multiprocessing&lt;/li&gt;
&lt;li&gt;Doc updates&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This fixes the problems arising with the move to Karmic Koala for Ubuntu. I'm
not sure what in particular caused it to break between Jaunty and now, whether
it was the addition of 2.6.4 or just some obscure timing thing that happens to
be prevalent or not.&lt;/p&gt;
&lt;p&gt;There were a number of features queued up in the git tree, but I wasn't really
planning on releasing this quick until the Karmic bugs started to crop up
yesterday, so I tucked them into a branch and will re-merge them later.&lt;/p&gt;
&lt;p&gt;As a side note, I'm not a fan of Ubuntu for this very reason. This bug isn't
their fault (or mine, AFAICT thanks to the multiprocessing module - a module
built around spawning new processes - being intolerant of custom SIGCHLD
handlers), but because Ubuntu is now frozen for karmic, I won't be able to get
0.7.5 into the main repo until the next release... despite the fact that I only
start to get bugs &lt;em&gt;after&lt;/em&gt; the release is actually made. It would make more
sense, to me at least, if they froze stuff that was part of their core
distribution (GNOME, firefox, kernel etc.) but continued to track Debian testing
for their unsupported 'universe' packages (which is where canto falls).&lt;/p&gt;
&lt;p&gt;Anyway, have fun! Submit bugs!&lt;/p&gt;               </description>           </item>   </channel></rss>